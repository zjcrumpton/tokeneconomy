<!doctype html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Token Board</title>

    <link rel="stylesheet" type="text/css" href="style.css">

</head>

<body>
    <!--Fireworks-->
	<div id="board"></div>
	<div class = "wrapper">
		<div class="headerGrid">
			<div id = "title">Token Board</div>
		</div>
		<div class = "btnArea"></div>
		<div id="gridCont">
			<div class="menuItem" id = "tokenNum">
				<div class="label" id="generate">Tokens:</div>
				<select class = "menuDrop" id = "tokenSize">
					<option class = "tokenItem" value="1">1 Token</option>
					<option class = "tokenItem" value="2">2 Tokens</option>
					<option class = "tokenItem" value="3">3 Tokens</option>
					<option class = "tokenItem" value="4">4 Tokens</option>
					<option class = "tokenItem" value="5">5 Tokens</option>
					<option class = "tokenItem" value="6">6 Tokens</option>
					<option class = "tokenItem" value="7">7 Tokens</option>
					<option class = "tokenItem" value="8">8 Tokens</option>
					<option class = "tokenItem" value="9">9 Tokens</option>
					<option class = "tokenItem" value="10" selected>10 Tokens</option>
				</select>
			</div>
			<div class = "menuItem" id="clearBtn">
				<button class= "btn22 btn-2 btn-2c"id = "reset" onclick="resetBtn()">Clear <br>&<br> Apply</button>
			</div>
			<div class = "menuItem" id="colorGrid">
				<div class="label" id="colorBtn">Color:</div>
				<select class = "menuDrop" id="colorDrop">
					<option value="random" selected>Random</option>
					<option value="red">Red</option>
					<option value="orange">Orange</option>
					<option value="yellow">Yellow</option>
					<option value="green">Green</option>
					<option value="blue">Blue</option>
					<option value="purple">Purple</option>
				</select>
			</div>
			<div class = "menuItem" id="blowoutGrid">
				<button class= "btn22 btn-2 btn-2c" id="blowoutBtn">BLOWOUT!</button>
			</div>  
			<div class = "menuItem" id="aniGrid">
				<div class="label" id="aniBtn">Effect:</div>
				<select class = "menuDrop" id="aniSelect">
					<option value="none">None</option>
					<option value="confetti" selected>Confetti</option>
					<option value="fireworks">Fireworks</option>
				</select>
			</div>
			<div class = "menuItem" id="shapeGrid">
				<div class="label" id="shapeBtn">Shape:</div>
				<select class = "menuDrop" id="shapeDrop">
					<option value="circle" selected>Circle</option>
					<option value="star">Star</option>
					<option value="coin">Coin</option>
					<option value="heart">Heart</option>
					<option value="smiley">Smiley</option>
					<option value="alien">Alien</option>
					<option value="robot">Robot</option>
					<option value="butterfly">Butterfly</option>

				</select>
			</div>
		</div>
		<div class = "multiTable">
			<div class="timerArea mainTimer">
				<h1 id="mainTimeTitle">Activity</h1>
				<div class="digitTable" id="activity">0:00</div>
				<div class="setMin">
					<span class = "subMin">-</span>
					<span class = "displaySet">min</span>
					<span class = "addMin">+</span>
				</div>
				<div class="setSec">
					<span class = "subSec">-</span>
					<span class = "displaySetSec">sec</span>
					<span class = "addSec">+</span>
				</div>
				
				<button class="startTimer button play"></button>
				<button class="pauseTimer button pause hideTimer"></button>
				<img class="resetImg resetTimer" src="./images/reset.png"></img>
			</div>
			<div class="timerArea stopwatch">
				<h3 id="durationTitle">Duration</h3>
				<div class="digitTable digitTableDur">0:00</div>
				<button class="startTimerDur button play"></button>
				<button class="pauseTimerDur button pause hideTimer"></button>
				<img class="resetImg resetTimerDur" src="./images/reset.png"></img>
			</div>
			<div class="timerArea intervalClock">
				<h3 id="intervalTitle">Interval</h3>
				<div class="digitTable digitTableInt">0:00</div>
				<div class="setMin">
					<span class = "subMin subMinInt">-</span>
					<span class = "displaySet displaySetInt">min</span>
					<span class = "addMin addMinInt">+</span>
				</div>
				<div class="setSec">
					<span class = "subSec subSecInt">-</span>
					<span class = "displaySetSec displaySetSecInt">sec</span>
					<span class = "addSec addSecInt">+</span>
				</div>
				
				<button class="startTimerInt button play"></button>
				<button class="pauseTimerInt button pause hideTimer"></button>
				<img class="resetImg resetTimerInt" src="./images/reset.png"></img>
			</div>
		</div>
	</div>
	<audio src = "./audio/alarm.mp3" id = "alarmSound" loop></audio>
</body>
<script src="confetti.js"></script>
<script src="scripts.js"></script>
<!--FireWork Scripts-->
<script>
    var brd = document.createElement("DIV");
		document.body.insertBefore(brd, document.getElementById("board"));

		seeds = [];
		particles = [];

		const fwkPtcIniV = 0.5;
		const fwkSedIniV = 0.5;
		const fwkPtcIniT = 2500;
		const fwkSedIniT = 1000;
		const a = 0.0005;
		const g = 0.0005;
		const v = 0.3;


		function newFireworkParticle(x, y, angle)
		{
			var fwkPtc = document.createElement("DIV");
			fwkPtc.setAttribute('class', 'fireWorkParticle');
			fwkPtc.time = fwkPtcIniT;
			while(angle > 360)
				angle -= 360;
			while(angle < 0)
				angle += 360;
			fwkPtc.velocity = [];
			if(angle > 270)
			{
				fwkPtc.velocity.x = fwkPtcIniV * Math.sin(angle * Math.PI / 180) * (1 - Math.random() * v);
				fwkPtc.velocity.y = fwkPtcIniV * Math.cos(angle * Math.PI / 180) * (1 - Math.random() * v);
			}
			else if(angle > 180)
			{
				fwkPtc.velocity.x = fwkPtcIniV * Math.sin(angle * Math.PI / 180) * (1 - Math.random() * v);
				fwkPtc.velocity.y = fwkPtcIniV * Math.cos(angle * Math.PI / 180) * (1 - Math.random() * v);
			}
			else if(angle > 90)
			{
				fwkPtc.velocity.x = fwkPtcIniV * Math.sin(angle * Math.PI / 180) * (1 - Math.random() * v);
				fwkPtc.velocity.y = fwkPtcIniV * Math.cos(angle * Math.PI / 180) * (1 - Math.random() * v);
			}
			else
			{
				fwkPtc.velocity.x = fwkPtcIniV * Math.sin(angle * Math.PI / 180) * (1 - Math.random() * v);
				fwkPtc.velocity.y = fwkPtcIniV * Math.cos(angle * Math.PI / 180) * (1 - Math.random() * v);
			}
			fwkPtc.position = [];
			fwkPtc.position.x = x;
			fwkPtc.position.y = y;
			fwkPtc.style.left = fwkPtc.position.x + 'px';
			fwkPtc.style.top = fwkPtc.position.y + 'px';
			if(particles == null)
				particles = [];
			particles.push(fwkPtc);
			return fwkPtc;
		}

		function newFireworkSeed(x, y)
		{
			var fwkSed = document.createElement("DIV");
			fwkSed.setAttribute('class', 'fireWorkSeed');
			brd.appendChild(fwkSed);
			fwkSed.time = fwkSedIniT;
			fwkSed.velocity = [];
			fwkSed.velocity.x = 0;
			fwkSed.velocity.y = fwkSedIniV;
			fwkSed.position = [];
			fwkSed.position.x = x;
			fwkSed.position.y = y;
			fwkSed.style.left = fwkSed.position.x + 'px';
			fwkSed.style.top = fwkSed.position.y + 'px';
			if(seeds == null)
				seeds = [];
			seeds.push(fwkSed);
			return fwkSed;
		}
		
		function newFireWorkStar(x, y)
		{
			var fwkBch = document.createElement("DIV");
			fwkBch.setAttribute('class', 'fireWorkBatch');
			var a = 0;
			while(a < 360)
			{
				var fwkPtc = newFireworkParticle(x, y, a);
				fwkBch.appendChild(fwkPtc);
				a += 5;
			}
			brd.appendChild(fwkBch);
		}

		var before = Date.now();
		var id = setInterval(frame, 5);
		
		function frame()
		{
			var current = Date.now();
			var deltaTime = current - before;
			before = current;
			for(i in seeds)
			{
				var fwkSed = seeds[i];
				fwkSed.time -= deltaTime;
				if(fwkSed.time > 0)
				{
					fwkSed.velocity.x -= fwkSed.velocity.x * a * deltaTime;
					fwkSed.velocity.y -= g * deltaTime + fwkSed.velocity.y * a * deltaTime;
					fwkSed.position.x += fwkSed.velocity.x * deltaTime;
					fwkSed.position.y -= fwkSed.velocity.y * deltaTime;
					fwkSed.style.left = fwkSed.position.x + 'px';
					fwkSed.style.top = fwkSed.position.y + 'px';
				}
				else
				{
					newFireWorkStar(fwkSed.position.x, fwkSed.position.y);
					fwkSed.parentNode.removeChild(fwkSed);
					seeds.splice(i, 1);
				}
			}
			for(i in particles)
			{
				var fwkPtc = particles[i];
				fwkPtc.time -= deltaTime;
				if(fwkPtc.time > 0)
				{
					fwkPtc.velocity.x -= fwkPtc.velocity.x * a * deltaTime;
					fwkPtc.velocity.y -= g * deltaTime + fwkPtc.velocity.y * a * deltaTime;
					fwkPtc.position.x += fwkPtc.velocity.x * deltaTime;
					fwkPtc.position.y -= fwkPtc.velocity.y * deltaTime;
					fwkPtc.style.left = fwkPtc.position.x + 'px';
					fwkPtc.style.top = fwkPtc.position.y + 'px';
				}
				else
				{
					fwkPtc.parentNode.removeChild(fwkPtc);
					particles.splice(i, 1);
				}
			}
        }
        
</script>
</html>

